## Описание сервиса
Сервис имеет две ручки: ручка подписки принимает ключ - топик, который слушает потребитель, создает стрим, по которому клиент получает данные из топика, при обрыве соединения вызывается Unsubscribe для удаления подписки; ручка публикации принимает ключ и сообщение, передает сообщение потребителям, подписанных на топик по данному ключу.
В пакете subpub реализованы следующие методы: 
1) Subscribe - создает подписку, добавляет ее в мапу, где храняться подписчики (ключ мапы - топик, значение - сет подписок), стартует горутину, где вызывается метод start; 
2) start - запускается в отдельной горутине для каждой подписки, слушает канал, в который приходят сообщения для конкретного потребителя, вызывает переданный handler для отправки сообщения потребителю. Используется буферизированный канал, чтобы сохранять порядок сообщений и не блокировать Publish, когда потребитель обрабатывает сообщения медленно, в случае заполнения канала, приходящие в топик сообщения пропускаются
3) Publish - принимает топик и сообщение, отправляет сообщение в канал каждого потребителя данного топика
4) Unsubscribe - удаляет подписку из мапы, закрывает канал, в который приходили сообщения данного потребителя
5) Close - останавливает работу subpub-механизма, дожидается отработки всех вызванных Subscribe и Publish через WaitGroup, для каждой подписки вызывает Unsubscribe, после чего подчищается мапа, закрываются каналы потребителей и горутины завершаются
Реализован graceful shutdown паттерн - заводится канал, который принимает сигнал остановки программы, этот канал читает отдельная горутина, которая останавливает работу grpc-сервера и вызывает метод Close subpub механизма.
## Инструкция к запуску
1) docker build -t subpub . - билдим образ
2) docker run --name subpub_cont -p 8080:8080 subpub - стартуем контейнер
gRPC-сервер слушает по адресу 0.0.0.0:8080